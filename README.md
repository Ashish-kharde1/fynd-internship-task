# Feedback & AI Insights System

This is a full-stack application designed to collect user reviews, generate AI-powered insights, and provide actionable feedback to administrators. The system is architected with a strict separation of concerns, utilizing a Python-based backend for logic/storage and distinct Next.js applications for user and admin interfaces.

## üöÄ Project Overview

The system consists of three main components:
1.  **Backend (FastAPI)**: Handles API requests, database operations via SQLModel, and interfaces with Google Gemini for AI content generation.
2.  **User Dashboard (Next.js)**: A public-facing UI where users can rate their experience and submit text reviews.
3.  **Admin Dashboard (Next.js)**: A protected UI for administrators to view reviews, read AI-generated summaries, and see recommended actions.

## üìÇ Repository Structure

```
/
‚îú‚îÄ‚îÄ backend/            # FastAPI application (API, Database, AI Services)
‚îú‚îÄ‚îÄ user-dashboard/     # Customer-facing review submission UI (Next.js)
‚îî‚îÄ‚îÄ admin-dashboard/    # Internal analytics and monitoring UI (Next.js)
```

## üõ† Tech Stack

### Backend
*   **Framework**: FastAPI (Python)
*   **Database**: SQLite (via SQLModel ORM)
*   **AI Engine**: Google Gemini API
*   **Deployment**: Render (Free Tier)

### Frontend (User & Admin Dashboards)
*   **Framework**: Next.js 15 (App Router)
*   **Styling**: Tailwind CSS, Lucide React
*   **Animations**: Framer Motion
*   **Deployment**: Vercel

## üèó System Architecture

1.  **Submission**: User submits a review via the **User Dashboard**.
2.  **Processing**: The **Backend** receives the payload.
    *   Stores the raw review in the SQLite database.
    *   Asynchronously calls Google Gemini to generate a polite response for the user.
    *   Generates a concise summary and actionable steps for the admin.
3.  **Response**: The backend returns the generated user response immediately to the User Dashboard.
4.  **Analytics**: The **Admin Dashboard** fetches the stored reviews (including AI insights) for display.

## ‚òÅÔ∏è Deployment & Critical Information

### Live Links
*   **User Dashboard**: [Deployed on Vercel](https://fynd-user-dashboard-kappa.vercel.app)
*   **Admin Dashboard**: [Deployed on Vercel](https://fynd-admin-dashboard-five.vercel.app)
*   **Backend API**: Deployed on Render

### ‚ö†Ô∏è Important Note regarding Backend Deployment
The backend is hosted on the **Render Free Tier**. Please note the following expected behaviors:
*   **Cold Starts**: Render automatically spins down specific services after 15 minutes of inactivity to conserve resources.
*   **Initial Latency**: The **first request** after a period of inactivity may take **30‚Äì60 seconds** to process while the container spins back up.
*   **Normal Performance**: Subsequent requests will be fast and responsive once the service is active.

**This is a documented limitation of the free hosting tier and does not reflect an application performance issue.**

## ‚ú® Features

### User Dashboard
*   **Star Rating System**: Interactive 1-5 star rating component.
*   **AI-Powered Feedback**: Users receive an instant, context-aware response generated by AI based on their sentiment.
*   **Real-time Validation**: Form handling and error states.

### Admin Dashboard
*   **Review Monitoring**: Table view of all submitted reviews.
*   **AI Insights**:
    *   **Summary**: A one-sentence summary of the user's feedback.
    *   **Recommended Action**: Concrete steps the business should take to address the feedback.

## ‚öôÔ∏è Environment Variables

### Frontend (`.env.local`)
Both dashboards require the API URL to communicate with the backend.
```bash
NEXT_PUBLIC_API_URL=https://your-render-backend-url.onrender.com
# For local development: http://localhost:8000
```

### Backend (`.env`)
The backend requires a Google Gemini API key.
```bash
GEMINI_API_KEY=your_google_gemini_key
```

## üíª Local Development Setup

### 1. Backend Setup
```bash
cd backend
python -m venv venv
# Windows
.\venv\Scripts\activate
# Mac/Linux
source venv/bin/activate

pip install -r requirements.txt
uvicorn main:app --reload
# API runs on http://localhost:8000
```

### 2. User Dashboard Setup
```bash
cd user-dashboard
npm install
npm run dev
# App runs on http://localhost:3000
```

### 3. Admin Dashboard Setup
```bash
cd admin-dashboard
npm install
npm run dev
# App runs on http://localhost:3001
```

## üì° API Endpoints

### `POST /submit-review`
Submits a new review and triggers AI generation.
- **Body**: `{ "rating": 5, "review": "Great service!" }`
- **Response**: `{ "status": "success", "ai_response": "Thank you..." }`

### `GET /admin/reviews`
Fetches all reviews with their AI-generated metadata.
- **Response**: `[ { "id": 1, "rating": 5, "ai_summary": "...", ... } ]`

## üõ° Error Handling & CORS
*   The backend is configured with **CORS** to specifically allow requests only from:
    *   `localhost:3000` (User Dashboard Local)
    *   `localhost:3001` (Admin Dashboard Local)
    *   The specific Vercel deployment domains.
*   The frontend implements **graceful degradation**; if the AI service is unavailable or the backend times out (e.g., extreme cold start latency), generic fallback messages are displayed to maintain user experience.

## üìù Design Decisions & Tradeoffs

*   **Separation of Concerns**: We chose to separate the User and Admin dashboards into distinct Next.js apps rather than a single monorepo or routed app. This simulates a real-world micro-frontend approach where internal tools and public-facing products are deployed and scaled independently.
*   **SQLModel**: Used for its modern, Pythonic type safety and great integration with FastAPI, simplifying database interactions.
*   **Render vs. AWS/GCP**: Render/Vercel were chosen for their seamless CI/CD pipelines and zero-config deployment for this scale of project, despite the cold-start tradeoff on the backend free tier.